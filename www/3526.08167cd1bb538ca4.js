"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3526],{3526:(w,u,g)=>{g.r(u),g.d(u,{CategoryPageModule:()=>A});var p=g(6895),s=g(433),a=g(4556),h=g(538),d=g(655),m=g(5698),t=g(8256),C=g(9270),y=g(2115);function _(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA(),t.TgZ(5,"th")(6,"ion-button",11),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editCategory(i._id,i.name,i.description))}),t._UZ(7,"ion-icon",12),t.qZA(),t.TgZ(8,"ion-button",13),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteCategory(i._id,i.name))}),t._UZ(9,"ion-icon",14),t.qZA()()()}if(2&n){const e=c.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description)}}function b(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"h3"),t._uU(3,"Update"),t.qZA(),t.TgZ(4,"button",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closeUpdate())}),t._uU(5,"X"),t.qZA()(),t.TgZ(6,"div",18)(7,"form",19,20),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.MAs(8),i=t.oxw();return t.KtG(i.updateCategory(r))}),t.TgZ(9,"input",21),t.NdJ("ngModelChange",function(r){t.CHM(e);const i=t.oxw();return t.KtG(i.category._id=r)}),t.qZA(),t.TgZ(10,"ion-item",22)(11,"ion-label",23),t._uU(12,"Category name"),t.qZA(),t.TgZ(13,"ion-input",24),t.NdJ("ngModelChange",function(r){t.CHM(e);const i=t.oxw();return t.KtG(i.category.name=r)}),t.qZA()(),t.TgZ(14,"ion-item")(15,"ion-textarea",25),t.NdJ("ngModelChange",function(r){t.CHM(e);const i=t.oxw();return t.KtG(i.category.description=r)}),t.qZA()(),t.TgZ(16,"button",26),t._uU(17,"Update"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(9),t.Q6J("ngModel",e.category._id),t.xp6(4),t.Q6J("ngModel",e.category.name),t.xp6(2),t.Q6J("ngModel",e.category.description)}}let x=(()=>{class n{constructor(e,o,r){this.categoryService=e,this.categoryAlerts=o,this.alertController=r,this.page=0,this.max=0,this.isAddActivate=!1,this.isMinusActivate=!0,this.isHidden=!1,this.isRefresh=!1,this.category={_id:"",name:"",description:""},this.categories=[]}ngOnInit(){this.getCategories(),this.showRefresh()}numPage(e){let o=this.page+=e;return o<0&&(console.log("minus"),this.page=0,this.getCategories(o),this.isMinusActivate=!0),o>=this.max&&(this.page=this.max,this.isAddActivate=!0,this.getCategories(this.page)),this.isAddActivate=!1,this.isMinusActivate=!1,this.getCategories(o)}getCategories(e=0){this.categoryService.getCategories(e).pipe((0,m.q)(1)).subscribe(o=>{const{data:r,total:i}=o;this.categories=[...r],i>10&&(this.max=i-10),this.isHidden=!1},o=>console.log("error"))}deleteCategory(e,o){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:`Are you sure want to delete ${o} category`,buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>{this.categoryService.deleteCategory(e).subscribe(i=>{this.getCategories()},i=>{console.log(`error: ${i}`)}),this.getCategories()}}]})).present(),this.isHidden=!1})}editCategory(e,o,r){return(0,d.mG)(this,void 0,void 0,function*(){this.isHidden=!0,this.category={_id:e,name:o,description:r}})}updateCategory(e){this.categoryService.patchCategory(e.value).subscribe(o=>{this.getCategories(),this.isHidden=!1,this.categoryAlerts.updateCategory()},o=>{console.log("error")})}closeUpdate(){this.isHidden=!1,this.category={_id:"",name:"",description:""}}showRefresh(){void 0===!this.created&&(this.isRefresh=!0)}updateTable(){this.getCategories()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.G),t.Y36(y.m),t.Y36(a.Br))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table-category"]],inputs:{created:"created"},decls:21,vars:5,consts:[["color","secondary",3,"disabled","click"],["slot","icon-only","name","remove"],["color","danger",3,"disabled","click"],["slot","icon-only","name","add"],["color","success","slot","center",3,"click"],["name","refresh-outline"],[1,"r1"],[1,"r2"],[1,"r3"],[4,"ngFor","ngForOf"],["class","update-box",4,"ngIf"],["color","secondary",1,"btn-op","create",3,"click"],["color","dark","size","large","slot","icon-only","name","create"],["color","danger",1,"btn-op","delete",3,"click"],["color","dark","size","large","slot","icon-only","name","close-circle"],[1,"update-box"],[1,"title"],[1,"close-button",3,"click"],[1,"sub-box"],[3,"ngSubmit"],["categoryForm","ngForm"],["type","hidden","name","_id",3,"ngModel","ngModelChange"],[1,"form-part"],["color","primary","position","floating"],["type","text","color","primary","placeholder","Enter category name","name","name","require","","minlength","4",3,"ngModel","ngModelChange"],["color","primary","placeholder","Category description","name","description",3,"ngModel","ngModelChange"],[1,"save-button"]],template:function(e,o){1&e&&(t.TgZ(0,"article")(1,"ion-button",0),t.NdJ("click",function(){return o.numPage(-1)}),t._UZ(2,"ion-icon",1),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"ion-button",2),t.NdJ("click",function(){return o.numPage(1)}),t._UZ(6,"ion-icon",3),t.qZA(),t.TgZ(7,"ion-button",4),t.NdJ("click",function(){return o.updateTable()}),t._UZ(8,"ion-icon",5),t.qZA()(),t.TgZ(9,"table")(10,"thead")(11,"tr")(12,"th",6),t._uU(13,"Name"),t.qZA(),t.TgZ(14,"th",7),t._uU(15,"Description"),t.qZA(),t.TgZ(16,"th",8),t._uU(17,"Operations"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,_,10,2,"tr",9),t.qZA()(),t.YNc(20,b,18,3,"div",10)),2&e&&(t.xp6(1),t.Q6J("disabled",o.isMinusActivate),t.xp6(3),t.Oqu(o.page),t.xp6(1),t.Q6J("disabled",o.isAddActivate),t.xp6(14),t.Q6J("ngForOf",o.categories),t.xp6(1),t.Q6J("ngIf",o.isHidden))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.wO,s.On,s.F,a.YG,a.gu,a.pK,a.Ie,a.Q$,a.g2,a.j9],styles:["article[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:40px 0 15px}table[_ngcontent-%COMP%]{width:100%;margin-top:20px;box-shadow:3px 3px 3px 3px rgba(186,186,186,.25);margin-bottom:30px}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:hsla(212,100%,87%,.5) solid 1px;height:35px}.addButton[_ngcontent-%COMP%], .minusButton[_ngcontent-%COMP%]{width:40px;height:30px}.r1[_ngcontent-%COMP%]{background-color:rgba(189,220,255,.5)}.r2[_ngcontent-%COMP%]{background-color:rgba(163,255,174,.5)}.r3[_ngcontent-%COMP%]{background-color:rgba(255,133,133,.5)}.btn-op[_ngcontent-%COMP%]{width:40%}.update-box[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:40px;box-shadow:3px 3px 3px 3px rgba(186,186,186,.25)}.save-button[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:30px;background-color:#00bfff;font-weight:700;border-radius:5px}.save-button[_ngcontent-%COMP%]:hover{background-color:#0ff}.sub-box[_ngcontent-%COMP%]{width:90%;margin:auto}.close-button[_ngcontent-%COMP%]{margin:5px 5px 0 0;background-color:red;width:50px;height:30px;border-radius:5px}.close-button[_ngcontent-%COMP%]:hover{background-color:#a50000}.title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#badge[_ngcontent-%COMP%]{margin-left:-17px}thead[_ngcontent-%COMP%]{height:20px}h3[_ngcontent-%COMP%]{font-weight:700}@media only screen and (min-width: 800px){table[_ngcontent-%COMP%]{width:70%;margin:auto auto 30px}article[_ngcontent-%COMP%]{margin:30px auto;width:50%;border-radius:5px}.btn-op[_ngcontent-%COMP%]{width:60px}.delete[_ngcontent-%COMP%]{margin-left:15px}.update-box[_ngcontent-%COMP%]{width:70%;margin:auto}}"]}),n})();const f=[{path:"",component:(()=>{class n{constructor(e,o,r){this.categoryService=e,this.fb=o,this.alertController=r,this.categories=[],this.page=0,this.max=0,this.isAddActivate=!1,this.isMinusActivate=!0,this.created=0,this.category={_id:"",name:"",description:""}}ngOnInit(){this.getCategories(),this.created=5}presentAlert(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Category",subHeader:"Added",message:"Category added succesfuly",buttons:["OK"]})).present()})}cleanForm(e){return e.reset()}addCategory(e){this.categoryService.createCategory(e.value).subscribe(o=>{this.getCategories(),this.cleanForm(e),this.presentAlert(),this.created++},o=>console.log(this.category._id))}numPage(e){let o=this.page+=e;return o<0&&(console.log("minus"),this.page=0,this.getCategories(o),this.isMinusActivate=!0),o>=this.max&&(console.log("max"),this.page=this.max,this.isAddActivate=!0,this.getCategories(this.page)),this.isAddActivate=!1,this.isMinusActivate=!1,this.getCategories(o)}getCategories(e=0){this.categoryService.getCategories(e).pipe((0,m.q)(1)).subscribe(o=>{console.log(o);const{data:r,total:i}=o;this.categories=[...r],console.log(i),i>10&&(this.max=i-10),console.log(this.max)},o=>console.log("error"))}deleteCategory(e,o){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:`Are you sure want to delete ${o} category`,buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>{this.categoryService.deleteCategory(e),this.getCategories()}}]})).present()})}editCategory(e,o,r){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.G),t.Y36(s.qu),t.Y36(a.Br))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category"]],decls:21,vars:3,consts:[[1,"container"],[1,"sub-container"],[3,"ngSubmit"],["categoryForm","ngForm"],[1,"form-part"],["color","primary","position","floating"],["type","text","color","primary","placeholder","Enter category name","name","name","require","","minlength","4",3,"ngModel","ngModelChange"],["color","primary","placeholder","Category description","name","description",3,"ngModel","ngModelChange"],[1,"save-button"],[3,"created"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"test"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"div",0)(6,"h2"),t._uU(7,"Categories"),t.qZA(),t.TgZ(8,"div",1)(9,"form",2,3),t.NdJ("ngSubmit",function(){t.CHM(r);const l=t.MAs(10);return t.KtG(o.addCategory(l))}),t.TgZ(11,"ion-item",4)(12,"ion-label",5),t._uU(13,"Category name"),t.qZA(),t.TgZ(14,"ion-input",6),t.NdJ("ngModelChange",function(l){return o.category.name=l}),t.qZA()(),t.TgZ(15,"ion-item")(16,"ion-textarea",7),t.NdJ("ngModelChange",function(l){return o.category.description=l}),t.qZA()(),t.TgZ(17,"button",8),t._uU(18,"Save"),t.qZA()()()(),t.TgZ(19,"section"),t._UZ(20,"app-table-category",9),t.qZA()()}2&e&&(t.xp6(14),t.Q6J("ngModel",o.category.name),t.xp6(2),t.Q6J("ngModel",o.category.description),t.xp6(4),t.Q6J("created",o.created))},dependencies:[s._Y,s.JJ,s.JL,s.wO,s.On,s.F,a.W2,a.Gu,a.pK,a.Ie,a.Q$,a.g2,a.wd,a.sr,a.j9,x],styles:[".container[_ngcontent-%COMP%]{width:90%;max-width:500px;border:#f7f7f7 solid 1px;margin:20px auto 0;padding-bottom:20px;box-shadow:3px 3px 3px rgba(186,186,186,.25)}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left;font-weight:800}.sub-container[_ngcontent-%COMP%]{width:85%;margin:auto}.forma-part[_ngcontent-%COMP%]{margin-top:10px}.save-button[_ngcontent-%COMP%]{margin:20px auto 0;width:100%;height:30px;background-color:#0080ff;font-weight:700;border-radius:5px}.save-button[_ngcontent-%COMP%]:hover{background-color:#0090ff}form[_ngcontent-%COMP%]{margin-top:30px}section[_ngcontent-%COMP%]{width:90%;margin:auto}article[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:40px 0 15px}table[_ngcontent-%COMP%]{width:100%;margin-top:20px;box-shadow:3px 3px 3px 3px rgba(186,186,186,.25);margin-bottom:30px}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:hsla(212,100%,87%,.5) solid 1px;height:35px}.addButton[_ngcontent-%COMP%], .minusButton[_ngcontent-%COMP%]{width:40px;height:30px}.r1[_ngcontent-%COMP%]{background-color:rgba(189,220,255,.5)}.r2[_ngcontent-%COMP%]{background-color:rgba(163,255,174,.5)}.r3[_ngcontent-%COMP%]{background-color:rgba(255,133,133,.5)}.btn-op[_ngcontent-%COMP%]{width:40%}thead[_ngcontent-%COMP%]{height:20px}@media only screen and (min-width: 800px){table[_ngcontent-%COMP%]{width:70%;margin:auto auto 30px}article[_ngcontent-%COMP%]{margin:30px auto;width:50%;border-radius:5px}.btn-op[_ngcontent-%COMP%]{width:60px}.delete[_ngcontent-%COMP%]{margin-left:15px}}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(f),h.Bz]}),n})();var v=g(6230),P=g(4814),O=g(529),T=g(9558),Z=g(5657);let A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:O.TP,useClass:T.B,multi:!0},Z.N],imports:[p.ez,s.u5,a.Pc,M,v.$,P.DashboardPageModule,s.u5,s.UX]}),n})()}}]);