"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9673],{9673:(O,u,i)=>{i.r(u),i.d(u,{CategoryPageModule:()=>T});var p=i(6895),g=i(433),s=i(4556),h=i(538),d=i(655),m=i(5698),t=i(8256),C=i(529);let y=(()=>{class o{constructor(e){this.http=e,this.URL_BASE="https://lends-backend.onrender.com/categories"}getCategories(e=0){return this.http.get(`${this.URL_BASE}/?$skip=${e}`)}createCategory(e){return this.http.post(this.URL_BASE,e)}pagination(e){return this.http.get(`${this.URL_BASE}/?$skip=${e}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(C.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),f=(()=>{class o{constructor(e){this.alertController=e}deleteCategory(e,n){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:`are you sure want to delete ${e}`,buttons:[{text:"Cancel",role:"cancel",handler:()=>!1},{text:"OK",role:"confirm",handler:()=>!0}]})).present()})}editCategory(e,n,r){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Change any information",buttons:["OK"],inputs:[{placeholder:"name",value:n,attributes:{minlength:4}},{placeholder:"description",type:"textarea",value:r}]})).present()})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(s.Br))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function b(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA(),t.TgZ(5,"th")(6,"ion-button",8),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editCategory(c._id,c.name,c.description))}),t._UZ(7,"ion-icon",9),t.qZA(),t.TgZ(8,"ion-button",10),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteCategory(c._id,c.name))}),t._UZ(9,"ion-icon",11),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description)}}let v=(()=>{class o{constructor(e,n){this.categoryService=e,this.categoryAlerts=n,this.page=0,this.max=0,this.isAddActivate=!1,this.isMinusActivate=!0,this.categories=[]}ngOnInit(){this.getCategories()}numPage(e){let n=this.page+=e;return n<0&&(console.log("minus"),this.page=0,this.getCategories(n),this.isMinusActivate=!0),n>=this.max&&(console.log("max"),this.page=this.max,this.isAddActivate=!0,this.getCategories(this.page)),this.isAddActivate=!1,this.isMinusActivate=!1,this.getCategories(n)}getCategories(e=0){this.categoryService.getCategories(e).pipe((0,m.q)(1)).subscribe(n=>{console.log(n);const{data:r,total:c}=n;this.categories=[...r],console.log(c),c>10&&(this.max=c-10),console.log(this.max)},n=>console.log("error"))}deleteCategory(e,n){this.categoryAlerts.deleteCategory(n,e)}editCategory(e,n,r){this.categoryAlerts.editCategory(e,n,r)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y),t.Y36(f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-table-category"]],decls:18,vars:4,consts:[["color","secondary",3,"disabled","click"],["slot","icon-only","name","remove"],["color","danger",3,"disabled","click"],["slot","icon-only","name","add"],[1,"r1"],[1,"r2"],[1,"r3"],[4,"ngFor","ngForOf"],["color","secondary",1,"btn-op","create",3,"click"],["color","dark","size","large","slot","icon-only","name","create"],["color","danger",1,"btn-op","delete",3,"click"],["color","dark","size","large","slot","icon-only","name","close-circle"]],template:function(e,n){1&e&&(t.TgZ(0,"article")(1,"ion-button",0),t.NdJ("click",function(){return n.numPage(-1)}),t._UZ(2,"ion-icon",1),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"ion-button",2),t.NdJ("click",function(){return n.numPage(1)}),t._UZ(6,"ion-icon",3),t.qZA()(),t.TgZ(7,"table")(8,"thead")(9,"tr")(10,"th",4),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th",5),t._uU(13,"Description"),t.qZA(),t.TgZ(14,"th",6),t._uU(15,"Operations"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,b,10,2,"tr",7),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("disabled",n.isMinusActivate),t.xp6(3),t.Oqu(n.page),t.xp6(1),t.Q6J("disabled",n.isAddActivate),t.xp6(12),t.Q6J("ngForOf",n.categories))},dependencies:[p.sg,s.YG,s.gu],styles:["article[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:40px 0 15px}table[_ngcontent-%COMP%]{width:100%;margin-top:20px;box-shadow:3px 3px 3px 3px rgba(186,186,186,.25);margin-bottom:30px}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:hsla(212,100%,87%,.5) solid 1px;height:35px}.addButton[_ngcontent-%COMP%], .minusButton[_ngcontent-%COMP%]{width:40px;height:30px}.r1[_ngcontent-%COMP%]{background-color:rgba(189,220,255,.5)}.r2[_ngcontent-%COMP%]{background-color:rgba(163,255,174,.5)}.r3[_ngcontent-%COMP%]{background-color:rgba(255,133,133,.5)}.btn-op[_ngcontent-%COMP%]{width:40%}thead[_ngcontent-%COMP%]{height:20px}@media only screen and (min-width: 800px){table[_ngcontent-%COMP%]{width:70%;margin:auto auto 30px}article[_ngcontent-%COMP%]{margin:30px auto;width:50%;border-radius:5px}.btn-op[_ngcontent-%COMP%]{width:60px}.delete[_ngcontent-%COMP%]{margin-left:15px}}"]}),o})();const x=[{path:"",component:(()=>{class o{constructor(e,n,r){this.categoryService=e,this.fb=n,this.alertController=r,this.categories=[],this.category={_id:"",name:"",description:""}}ngOnInit(){}presentAlert(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Category",subHeader:"Added",message:"Category added succesfuly",buttons:["OK"]})).present()})}getCategories(){this.categoryService.getCategories().pipe((0,m.q)(1)).subscribe(e=>{console.log(e);const{data:n,total:r}=e;this.categories=[...n],console.log(r)},e=>console.log("error"))}cleanForm(e){return e.reset()}addCategory(e){this.categoryService.createCategory(e.value).subscribe(n=>{this.getCategories(),this.cleanForm(e),this.presentAlert()},n=>console.log(n))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y),t.Y36(g.qu),t.Y36(s.Br))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category"]],decls:21,vars:2,consts:[[1,"container"],[1,"sub-container"],[3,"ngSubmit"],["categoryForm","ngForm"],[1,"form-part"],["color","primary","position","floating"],["type","text","color","primary","placeholder","Enter category name","name","name","require","","minlength","4",3,"ngModel","ngModelChange"],["color","primary","placeholder","Category description","name","description",3,"ngModel","ngModelChange"],[1,"save-button"]],template:function(e,n){if(1&e){const r=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"test"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"div",0)(6,"h2"),t._uU(7,"Categories"),t.qZA(),t.TgZ(8,"div",1)(9,"form",2,3),t.NdJ("ngSubmit",function(){t.CHM(r);const l=t.MAs(10);return t.KtG(n.addCategory(l))}),t.TgZ(11,"ion-item",4)(12,"ion-label",5),t._uU(13,"Category name"),t.qZA(),t.TgZ(14,"ion-input",6),t.NdJ("ngModelChange",function(l){return n.category.name=l}),t.qZA()(),t.TgZ(15,"ion-item")(16,"ion-textarea",7),t.NdJ("ngModelChange",function(l){return n.category.description=l}),t.qZA()(),t.TgZ(17,"button",8),t._uU(18,"Save"),t.qZA()()()(),t.TgZ(19,"section"),t._UZ(20,"app-table-category"),t.qZA()()}2&e&&(t.xp6(14),t.Q6J("ngModel",n.category.name),t.xp6(2),t.Q6J("ngModel",n.category.description))},dependencies:[g._Y,g.JJ,g.JL,g.wO,g.On,g.F,s.W2,s.Gu,s.pK,s.Ie,s.Q$,s.g2,s.wd,s.sr,s.j9,v],styles:[".container[_ngcontent-%COMP%]{width:90%;max-width:500px;border:#f7f7f7 solid 1px;margin:20px auto 0;padding-bottom:20px;box-shadow:3px 3px 3px rgba(186,186,186,.25)}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left;font-weight:800}.sub-container[_ngcontent-%COMP%]{width:85%;margin:auto}.forma-part[_ngcontent-%COMP%]{margin-top:10px}.save-button[_ngcontent-%COMP%]{margin:20px auto 0;width:100%;height:30px;background-color:#0080ff;font-weight:700}.save-button[_ngcontent-%COMP%]:hover{background-color:#0090ff}form[_ngcontent-%COMP%]{margin-top:30px}section[_ngcontent-%COMP%]{width:90%;margin:auto}"]}),o})()}];let _=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(x),h.Bz]}),o})();var M=i(6230),A=i(4814),P=i(9558),Z=i(5657);let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:C.TP,useClass:P.B,multi:!0},Z.N],imports:[p.ez,g.u5,s.Pc,_,M.$,A.DashboardPageModule,g.u5,g.UX]}),o})()}}]);